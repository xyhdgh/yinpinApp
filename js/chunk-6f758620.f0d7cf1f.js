(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f758620"],{"948e":function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"movie"},[i("ul",t._l(t.dataList,function(a){return i("li",{key:a.id,staticClass:"clearfix",on:{click:function(i){return t.intMovie(a.id)}}},[i("img",{attrs:{src:"https://images.weserv.nl/?url="+a.cover.url}}),i("div",{staticClass:"right-content"},[i("h3",[t._v(t._s(a.title))]),i("div",{staticClass:"actor"},[t._v("\n          主演:\n          "),i("span",[t._v(t._s(a.actors.join(" ")))])]),i("div",{staticClass:"key"},[t._v("\n          关键字:\n          "),i("span",[t._v(t._s(a.info))])]),i("span",[t._v("上映时间:"+t._s(a.year+"."+a.release_date))])])])}),0),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"layer"},[t._m(0)]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isTip,expression:"!isTip"}],staticClass:"tip"},[i("p",[t._v("无法加载更多...")])])])},e=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"loading"},[i("img",{staticClass:"loading-img",attrs:{src:"https://hbimg.huabanimg.com/1cd0c5b05f630a1cfd7a056ead30db9f0776cc9e51fe3-MpXEQu"}})])}],n=i("bc3a"),c=i.n(n),o={data:function(){return{dataList:[],start:0,isLoading:!0,count:10,total:10,isTip:!0}},created:function(){var t={title:"电影",className:"movie"};this.$emit("changeNav",t),this.getData()},methods:{getData:function(){var t=this,a="https://bird.ioliu.cn/v2?url=",i="https://m.douban.com/rexxar/api/v2/subject_collection/movie_showing/items?start=".concat(this.start,"&count=10");this.isLoading=!1,c.a.get(a+i).then(function(a){t.dataList=t.dataList.concat(a.data.subject_collection_items),t.total=a.data.total,t.isLoading=!0}).catch(function(){return!1})},intMovie:function(t){this.$router.push({name:"detail",params:{id:t}})}},mounted:function(){var t=this;window.onscroll=function(){var a=document.documentElement.clientHeight,i=document.documentElement.scrollTop,s=document.documentElement.scrollHeight;a+i>=s-10&&t.isLoading&&t.count<=t.total&&(t.start+=10,t.count+=10,t.getData()),t.dataList.length==t.total&&(t.isTip=!1)}}},r=o,l=(i("9ee4"),i("2877")),u=Object(l["a"])(r,s,e,!1,null,"11cc376c",null);a["default"]=u.exports},"9ee4":function(t,a,i){"use strict";var s=i("a649"),e=i.n(s);e.a},a649:function(t,a,i){}}]);
//# sourceMappingURL=chunk-6f758620.f0d7cf1f.js.map